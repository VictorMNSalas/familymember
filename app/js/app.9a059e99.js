(function(){"use strict";var e={16:function(e,t,a){var i=a(144),s=a(998),n=a(3059),r=function(){var e=this,t=e._self._c;return t(s.Z,[t(n.Z,[t("HeaderApp"),e.familyMembers.length<1?t("ACaseOnly",{attrs:{leadData:e.leadData,Matter_ID:e.Matter_ID,Matter_Client_Number:e.Matter_Client_Number,id_lead:e.id_lead}}):t("FormFamilyVue",{attrs:{Matter_ID:e.Matter_ID,Matter_Client_Number:e.Matter_Client_Number,id_lead:e.id_lead,familyData:e.familyMembers}})],1)],1)},o=[],l=(a(7658),a(6072)),d=a(4324),c=function(){var e=this,t=e._self._c;return t(l.Z,{attrs:{color:"blue",density:"compact"}},[t("div",{attrs:{id:"header"}},[t("h1",{staticClass:"title"},[e._v("Retainers")]),t(d.Z,{attrs:{id:"close_icon"},on:{click:function(t){return e.closeWisget()}}},[e._v(" "+e._s(e.CloseIcon))])],1)])},m=[],h=a(5317),u={components:{},data(){return{}},computed:{CloseIcon(){return h.UEB}},methods:{closeWisget(){ZOHO.CRM.UI.Popup.close().then((function(e){console.log(e)}))}}},p=u,f=a(1001),b=(0,f.Z)(p,c,m,!1,null,null,null),v=b.exports,_=a(1653),D=a(4562),g=a(266),C=a(2150),y=a(5125),Z=a(3305),I=a(1713),N=a(8423),M=a(4068),w=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"container"}},[e.pageLoader?t(y.Z,{on:{submit:function(e){e.preventDefault()}}},[t(C.Z,{staticClass:"spacing-playground mt-5"},[e.alert?t(_.Z,{staticClass:"alert",attrs:{text:"",type:"info",variant:"tonal"}},[e._v("New record have been successfully created in the Cases/Retainers module. ")]):e._e(),e.error?t(_.Z,{staticClass:"alert",attrs:{text:"",type:"error",variant:"tonal"}},[e._v("Erroneous information has been found added in the Fee or Initial Deposit field. ")]):e._e(),e.warning?t(_.Z,{staticClass:"alert",attrs:{text:"",type:"warning",variant:"tonal"}},[e._v("There are unanswered fields, please enter the complete information to proceed Deposit field. ")]):e._e(),t(I.Z,[t(g.Z,{attrs:{cols:"12",md:"2"}},[t(M.Z,{attrs:{label:"Service Type",required:""},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(N.Z,{attrs:{label:"Sub Department",items:e.department},model:{value:e.Department,callback:function(t){e.Department=t},expression:"Department"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(M.Z,{attrs:{label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(M.Z,{attrs:{label:"Phone",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),t(g.Z,{attrs:{cols:" 12",md:"2"}},[t(M.Z,{attrs:{label:"Inicial Deposit",rules:e.numeroRules,required:""},on:{change:e.depositCorrect},model:{value:e.deposit,callback:function(t){e.deposit=t},expression:"deposit"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(M.Z,{attrs:{label:"Fee",required:"",rules:e.numeroRules},on:{change:e.feeCorrect},model:{value:e.fee,callback:function(t){e.fee=t},expression:"fee"}})],1)],1)],1),t("div",{attrs:{id:"btns"}},[t(D.Z,{staticClass:"spacing-playground ma-3",attrs:{size:"x-large"},on:{click:function(t){return e.createRecord()}}},[e.loader?t(Z.Z,{attrs:{indeterminate:"",size:25}}):t("p",[e._v("Submit")])],1)],1)],1):t("div",{attrs:{id:"load"}},[t(Z.Z,{attrs:{id:"loaderPage",indeterminate:"",size:70}})],1)],1)},x=[],P={data(){return{name:"",phone:"",address:"",service:"",fee:"",deposit:"",department:[],Department:"",depC:"",depI:"",alert:!1,warning:!1,error:!1,loader:!1,pageLoader:!1}},props:{leadData:Array,id_lead:Number,Matter_Client_Number:Number,Matter_ID:Number},computed:{numeroRules(){return[e=>!!e||"This field is required",e=>/^[0-9]*$/.test(e)||"Only numbers allowed"]}},methods:{assignInfo(){this.leadData.length>0&&(console.log("Se asignan los valores de los campos: ",this.leadData[0].name),this.name=this.leadData[0].name,this.phone=this.leadData[0].mobile,this.service=this.leadData[0].service,this.address=this.leadData[0].address,this.pageLoader=(0,i.iH)(!0),this.subDepartment())},subDepartment(){console.log(this.name,this.phone,this.service,this.address),"Immigration"==this.service?(this.department=[],this.department.push("EOIR - Undetained","USCIS - U-Cert","USCIS - Petitions","SIJS","FOIA")):"Criminal"==this.service?(this.department=[],this.department.push("Post Conviction - Pre Filing","Post Conviction - MTV","Post Conviction - Petitions","Post Conviction - Investigations","Post Conviction - Assessments","Misdemeanors","Felonies")):this.department=[]},async createRecord(){const e=Number(this.fee),t=Number(this.deposit);if("Criminal"==this.service?(this.depC=this.Department,this.depI=""):"Immigration"==this.service&&(this.depI=this.Department,this.depC=""),""!=(this.phone&&this.fee&&this.deposit&&this.name&&this.service&&this.Department))if(isNaN(e)||isNaN(t))this.error=(0,i.iH)(!0),setTimeout((()=>{this.error=(0,i.iH)(!1)}),3e3);else{this.loader=(0,i.iH)(!0);let e=`${this.Matter_Client_Number} - 1`;const t=this;ZOHO.CRM.API.insertRecord({Entity:"Deals",APIData:{Client_Name:this.id_lead,Stage:"Open",Deal_Name:e,Name1:this.name,Matter:this.Matter_ID,Service_Type:this.service,Criminal_Department:this.depC,Immigrant_Department:this.depI,Adress:this.address,Phone:this.phone,Fee:this.fee,Initial_Deposit:this.deposit}}).then((function(e){console.log(e),t.alertView(e)})).catch((function(e){console.error(e)}))}else this.warning=(0,i.iH)(!0),setTimeout((()=>{this.warning=(0,i.iH)(!1)}),3e3)},alertView(){this.alert=(0,i.iH)(!0),setTimeout((()=>{this.deleteData(),this.alert=(0,i.iH)(!1),this.loader=(0,i.iH)(!1)}),3e3)},deleteData(){this.name="",this.phone="",this.addres="",this.service="",this.fee="0",this.deposit="0",this.department=[]}},mounted(){console.log("espera 5 seg"),setTimeout((()=>{this.assignInfo(),console.log("compoenent montado")}),5e3)}},O=P,k=(0,f.Z)(O,w,x,!1,null,null,null),R=k.exports,S=function(){var e=this,t=e._self._c;return t(y.Z,{on:{submit:function(e){e.preventDefault()}}},[t(C.Z,{staticClass:"spacing-playground mt-5"},[e.alert?t(_.Z,{staticClass:"alert",attrs:{text:"",type:"info",variant:"tonal"}},[e._v("New record have been successfully created in the Cases/Retainers module. ")]):e._e(),e.error?t(_.Z,{staticClass:"alert",attrs:{text:"",type:"error",variant:"tonal"}},[e._v("Erroneous information has been found added in the Fee or Initial Deposit field. ")]):e._e(),e.warning?t(_.Z,{staticClass:"alert",attrs:{text:"",type:"warning",variant:"tonal"}},[e._v("There are unanswered fields, please enter the complete information to proceed Deposit field. ")]):e._e(),e.componentes.length<=0?t("h3",[e._v("To enter new data, please click on the (âž•) button.")]):e._e(),e._l(e.componentes[0],(function(a,i){return t("div",{key:i,attrs:{id:"row"}},[t("RowForm",{attrs:{familyData:e.familyInfo},on:{los_valores:e.getDataForm,status_alerts:e.statusAlerts}})],1)}))],2),t("div",{attrs:{id:"btns"}},[t("AddRow",{on:{el_arreglo:e.onResults}}),t(D.Z,{staticClass:"spacing-playground ma-3",attrs:{size:"x-large",disabled:e.botonDeshabilitado},on:{click:function(t){return e.createRecord()}}},[e.loader?t(Z.Z,{attrs:{indeterminate:"",size:25}}):t("p",[e._v("Submit")])],1)],1),e._v(" "+e._s(e.formData)+" ")],1)},F=[],A=function(){var e=this,t=e._self._c;return t(g.Z,[t(D.Z,{attrs:{size:"x-large"},on:{click:e.duplicarComponente}},[e._v("+")])],1)},H=[],T={data(){return{componentes:[]}},methods:{duplicarComponente(){const e="RowForm";this.componentes.push(e),console.log(`componentes ${this.componentes}`),this.$emit("el_arreglo",this.componentes)}}},E=T,$=(0,f.Z)(E,A,H,!1,null,null,null),q=$.exports,L=a(120),U=function(){var e=this,t=e._self._c;return t(I.Z,[t(g.Z,{attrs:{cols:"12",md:"2"}},[t(N.Z,{attrs:{label:"Service Type",items:["Immigration","Criminal"]},on:{change:function(t){return e.subDepartment(t)}},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(N.Z,{attrs:{label:"Sub Department",items:e.department},model:{value:e.Department,callback:function(t){e.Department=t},expression:"Department"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(N.Z,{attrs:{label:"Name",items:e.Firstname},on:{change:function(t){return e.data(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),t(g.Z,{attrs:{cols:"12",md:"2"}},[t(M.Z,{attrs:{label:"Phone",counter:12,required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),t(g.Z,{attrs:{cols:" 12",md:"2"}},[t(M.Z,{attrs:{label:"Inicial Deposit",rules:e.numeroRules,required:""},on:{change:e.depositCorrect},model:{value:e.deposit,callback:function(t){e.deposit=t},expression:"deposit"}})],1),t(g.Z,{attrs:{cols:"12",md:"1"}},[t(M.Z,{attrs:{label:"Fee",required:"",rules:e.numeroRules},on:{change:e.feeCorrect},model:{value:e.fee,callback:function(t){e.fee=t},expression:"fee"}})],1),t(g.Z,{attrs:{cols:"12",md:"1"}},[t(L.Z,{attrs:{label:e.checkLabel,color:"primary",disabled:e.botonDeshabilitado,"hide-details":""},on:{click:e.dataRowGet},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})],1)],1)},V=[],j={icons:{defaultSet:"mdi"},name:"RowForm",components:{},props:{familyData:Array},data(){return{Firstname:"",name:"",phone:"",address:"",service:"",fee:"",deposit:"",Department:"",DepartmentC:"",DepartmentI:"",department:[],familyDataCompleted:[],outData:[],checkbox:!1,botonDeshabilitado:!1,checkLabel:"Save"}},computed:{numeroRules(){return[e=>!!e||"This field is required",e=>/^[0-9]*$/.test(e)||"Only numbers allowed"]}},methods:{getData(){let e=[];this.familyData[0].forEach((t=>{t.forEach((t=>{let a=t.Firts_Name,i=t.Last_Name,s=t.Address,n=t.Phone,r=`${a} ${i}`;e.push(r),this.familyDataCompleted.push({fullName:r,addres:s,phone:n})}))})),this.Firstname=e},data(e){this.familyDataCompleted.forEach((t=>{t.fullName==e&&(this.phone=t.phone,this.address=t.addres)}))},subDepartment(e){"Immigration"==e?(this.department=[],this.department.push("EOIR - Undetained","USCIS - U-Cert","USCIS - Petitions","SIJS","FOIA")):"Criminal"==e&&(this.department=[],this.department.push("Post Conviction - Pre Filing","Post Conviction - MTV","Post Conviction - Petitions","Post Conviction - Investigations","Post Conviction - Assessments","Misdemeanors","Felonies"))},dataRowGet(){if(this.botonDeshabilitado=(0,i.iH)(!0),this.checkLabel=(0,i.iH)("Saved"),console.log(this.checkbox),1==this.checkbox){const e=Number(this.fee),t=Number(this.deposit);if("Criminal"==this.service?(this.DepartmentC=this.Department,this.DepartmentI=""):"Immigration"==this.service&&(this.DepartmentI=this.Department,this.DepartmentC=""),""!=(this.phone&&this.fee&&this.deposit&&this.name&&this.service&&this.Department)&&12==this.phone.length&&!isNaN(e)&&!isNaN(t)){const e={name:this.name,service:this.service,depC:this.DepartmentC,depI:this.DepartmentI,addres:this.address,phone:this.phone,fee:this.fee,deposit:this.deposit};this.$emit("los_valores",e),this.feeValidation=(0,i.iH)(!1),this.depositValidation=(0,i.iH)(!1)}}}},mounted(){this.getData()},updated(){}},z=j,G=(0,f.Z)(z,U,V,!1,null,null,null),J=G.exports,W={components:{RowForm:J,AddRow:q},props:{familyData:Array,id_lead:Number,Matter_Client_Number:Number,Matter_ID:Number},data(){return{componentes:[],familyInfo:[],formData:[],data:"",alert:!1,warning:!1,error:!1,loader:!1,botonDeshabilitado:!0}},methods:{pushData(){this.familyInfo.push(this.familyData)},onResults(e){this.componentes.push(e)},getDataForm(e){console.log("data",e),e&&(this.formData.push(e),this.botonDeshabilitado=(0,i.iH)(!1))},statusAlerts(e){console.log(e)},async createRecord(){this.loader=(0,i.iH)(!0),console.log(this.formData),this.formData.forEach(((e,t)=>{t+=1,this.data=e;let a=`${this.Matter_Client_Number} - ${t}`;const i=this;ZOHO.CRM.API.insertRecord({Entity:"Deals",APIData:{Client_Name:this.id_lead,Stage:"Open",Deal_Name:a,Name1:e.name,Matter:this.Matter_ID,Service_Type:e.service,Criminal_Department:e.depC,Immigrant_Department:e.depI,Adress:e.addres,Phone:e.phone,Fee:e.fee,Initial_Deposit:e.deposit}}).then((function(e){console.log(e),i.alertView(e)})).catch((function(e){console.error(e)}))}))},alertView(){this.loader=(0,i.iH)(!1),this.alert=(0,i.iH)(!0),this.deleteData(),setTimeout((()=>{this.alert=(0,i.iH)(!1)}),3e3)},deleteData(){this.componentes=[],this.familyInfo=[],this.formData=[],this.data=""}},mounted(){this.pushData()},computed:{}},B=W,K=(0,f.Z)(B,S,F,!1,null,null,null),Q=K.exports,X={name:"App",components:{FormFamilyVue:Q,HeaderApp:v,ACaseOnly:R},data:()=>({familyMembers:[],id_lead:"",Matter_Client_Number:"",Matter_ID:"",leadData:[]}),mounted(){ZOHO.embeddedApp.on("PageLoad",(async e=>{const t=e.EntityId,a=e.Entity;this.id_lead=t;const i=await ZOHO.CRM.API.getRecord({Entity:a,RecordID:t});if(i.data[0].Family_Members.length>0)this.familyMembers.push(i.data[0].Family_Members);else{const e={name:i.data[0].Last_Name,service:i.data[0].Service_Type,mobile:i.data[0].Mobile,address:i.data[0].Address_Line_1};this.leadData.push(e)}this.Matter_Client_Number=i.data[0].Matter_Client_Number,this.Matter_ID=i.data[0].Account_Name,console.log("Matter: ",this.Matter_ID.id)})),ZOHO.embeddedApp.init()}},Y=X,ee=(0,f.Z)(Y,r,o,!1,null,null,null),te=ee.exports,ae=a(1705);i.ZP.use(ae.Z);var ie=new ae.Z({});i.ZP.config.productionTip=!1,new i.ZP({vuetify:ie,render:e=>e(te)}).$mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,n){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,r=i[0],o=i[1],l=i[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(l)var c=l(a)}for(t&&t(i);d<r.length;d++)n=r[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},i=self["webpackChunkzoho_app"]=self["webpackChunkzoho_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(16)}));i=a.O(i)})();
//# sourceMappingURL=app.9a059e99.js.map
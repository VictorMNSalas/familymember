(function(){"use strict";var e={4079:function(e,t,n){var a=n(144),i=n(998),o=n(3059),r=function(){var e=this,t=e._self._c;return t(i.Z,[t(o.Z,[t("HeaderApp"),t("FormFamilyVue",{attrs:{Matter_Client_Number:e.Matter_Client_Number,id_lead:e.id_lead,familyData:e.familyMembers}})],1)],1)},s=[],l=(n(7658),n(6072)),u=function(){var e=this,t=e._self._c;return t(l.Z,{attrs:{color:"primary",density:"compact"}},[t("h1",{staticClass:"title"},[e._v("Retainers")])])},m=[],c={},d=c,p=n(1001),h=(0,p.Z)(d,u,m,!1,null,null,null),f=h.exports,v=n(1653),b=n(4562),_=n(2150),y=n(5125),D=n(3305),g=function(){var e=this,t=e._self._c;return t(y.Z,{on:{submit:function(e){e.preventDefault()}}},[t(_.Z,{staticClass:"spacing-playground mt-5"},[e.alert?t(v.Z,{attrs:{text:"",type:"info",variant:"tonal"}},[e._v("New record have been successfully created in the Cases/Retainers module.")]):e._e(),e.componentes.length<=0?t("h3",[e._v("To enter new data, please click on the (➕) button.")]):e._e(),e._l(e.componentes[0],(function(n,a){return t("div",{key:a,attrs:{id:"row"}},[t("RowForm",{attrs:{familyData:e.familyInfo},on:{los_valores:e.getDataForm}})],1)}))],2),t("div",{attrs:{id:"btns"}},[t("AddRow",{on:{el_arreglo:e.onResults}}),t(b.Z,{staticClass:"spacing-playground ma-3",attrs:{size:"x-large"},on:{click:function(t){return e.createRecord()}}},[e.alert?t(D.Z,{attrs:{indeterminate:"",size:25}}):t("p",[e._v("Submit")])],1)],1)],1)},C=[],Z=n(266),I=function(){var e=this,t=e._self._c;return t(Z.Z,[t(b.Z,{attrs:{size:"x-large"},on:{click:e.duplicarComponente}},[e._v("+")])],1)},w=[],N={data(){return{componentes:[]}},methods:{duplicarComponente(){const e="RowForm";this.componentes.push(e),console.log(`componentes ${this.componentes}`),this.$emit("el_arreglo",this.componentes)}}},R=N,O=(0,p.Z)(R,I,w,!1,null,null,null),P=O.exports,F=n(1713),x=n(2405),S=n(4068),M=function(){var e=this,t=e._self._c;return t(F.Z,[t(Z.Z,{attrs:{cols:"12",md:"2"}},[t(x.Z,{attrs:{label:"Service Type",items:["Immigration","Criminal","Both","Referred Out","No Service Available","Wrong Number"]},on:{change:function(t){return e.subDepartment(t)}},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}})],1),t(Z.Z,{attrs:{cols:"12",md:"2"}},[t(x.Z,{attrs:{label:"Sub Department",items:e.department},model:{value:e.Department,callback:function(t){e.Department=t},expression:"Department"}})],1),t(Z.Z,{attrs:{cols:"12",md:"2"}},[t(x.Z,{attrs:{label:"Name",items:e.Firstname},on:{change:function(t){return e.data(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),t(Z.Z,{attrs:{cols:"12",md:"2"}},[t(S.Z,{attrs:{label:"Phone",counter:12,required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),t(Z.Z,{attrs:{cols:" 12",md:"2"}},[t(S.Z,{attrs:{label:"Inicial Deposit",rules:e.numeroRules,required:""},on:{change:e.depositCorrect},model:{value:e.deposit,callback:function(t){e.deposit=t},expression:"deposit"}})],1),t(Z.Z,{attrs:{cols:"12",md:"2"}},[t(S.Z,{attrs:{label:"Fee",required:"",rules:e.numeroRules},on:{change:e.feeCorrect},model:{value:e.fee,callback:function(t){e.fee=t},expression:"fee"}})],1)],1)},A=[],k={icons:{defaultSet:"mdi"},name:"RowForm",components:{},props:{familyData:Array},data(){return{Firstname:"",name:"",phone:"",address:"",service:"",fee:"",deposit:"",Department:"",DepartmentC:"",DepartmentI:"",department:[],familyDataCompleted:[],outData:[],feeValidation:!1,depositValidation:!1}},computed:{numeroRules(){return[e=>!!e||"Este campo es obligatorio",e=>/^[0-9]*$/.test(e)||"Solo se permiten números"]}},methods:{feeCorrect(){this.feeValidation=(0,a.iH)(!0),this.dataRowGet()},depositCorrect(){this.depositValidation=(0,a.iH)(!0),this.dataRowGet()},getData(){let e=[];this.familyData[0].forEach((t=>{t.forEach((t=>{let n=t.Firts_Name,a=t.Last_Name,i=t.Address,o=t.Phone,r=`${n} ${a}`;e.push(r),this.familyDataCompleted.push({fullName:r,addres:i,phone:o})}))})),this.Firstname=e},data(e){this.familyDataCompleted.forEach((t=>{t.fullName==e&&(this.phone=t.phone,this.address=t.addres)}))},subDepartment(e){"Immigration"==e?(this.department=[],this.department.push("EOIR - Undetained","USCIS - U-Cert","USCIS - Petitions","SIJS","FOIA")):"Criminal"==e&&(this.department=[],this.department.push("Post Conviction - Pre Filing","Post Conviction - MTV","Post Conviction - Petitions","Post Conviction - Investigations","Post Conviction - Assessments","Misdemeanors","Felonies"))},dataRowGet(){const e=Number(this.fee),t=Number(this.deposit);if("Criminal"==this.service?(this.DepartmentC=this.Department,this.DepartmentI=""):"Immigration"==this.service&&(this.DepartmentI=this.Department,this.DepartmentC=""),this.feeValidation&&this.depositValidation&&""!=(this.phone&&this.fee&&this.deposit&&this.name&&this.service&&this.Department)&&12==this.phone.length&&!isNaN(e)&&!isNaN(t)){const e={name:this.name,service:this.service,depC:this.DepartmentC,depI:this.DepartmentI,addres:this.address,phone:this.phone,fee:this.fee,deposit:this.deposit};this.$emit("los_valores",e),this.feeValidation=(0,a.iH)(!1),this.depositValidation=(0,a.iH)(!1)}}},mounted(){this.getData()},updated(){this.dataRowGet()}},H=k,V=(0,p.Z)(H,M,A,!1,null,null,null),E=V.exports,T=n(5317),$={components:{RowForm:E,AddRow:P},props:{familyData:Array,id_lead:Number,Matter_Client_Number:Number},data(){return{componentes:[],familyInfo:[],formData:[],data:"",alert:!1}},methods:{pushData(){this.familyInfo.push(this.familyData)},onResults(e){this.componentes.push(e)},getDataForm(e){this.formData.push(e)},async createRecord(){this.formData.forEach(((e,t)=>{t+=1,this.data=e;let n=`${this.Matter_Client_Number} - ${t}`;const a=this;ZOHO.CRM.API.insertRecord({Entity:"Deals",APIData:{Client_Name:this.id_lead,Stage:"Open",Deal_Name:n,Name1:e.name,Service_Type:e.service,Criminal_Department:e.depC,Immigrant_Department:e.depI,Adress:e.addres,Phone:e.phone,Fee:e.fee,Initial_Deposit:e.deposit}}).then((function(e){console.log(e),a.alertView(e)})).catch((function(e){console.error(e)}))}))},alertView(e){this.alert=(0,a.iH)(!0),setTimeout((()=>{console.log("Han pasado 5 segundos"),this.alert=(0,a.iH)(!1),this.deleteData()}),3e3)},deleteData(){this.componentes=[],this.familyInfo=[],this.formData=[],this.data=""}},mounted(){this.pushData()},computed:{deleteIcon(){return T.x9U}}},j=$,z=(0,p.Z)(j,g,C,!1,null,null,null),U=z.exports,G={name:"App",components:{FormFamilyVue:U,HeaderApp:f},data:()=>({familyMembers:[],id_lead:"",Matter_Client_Number:""}),mounted(){ZOHO.embeddedApp.on("PageLoad",(async e=>{const t=e.EntityId,n=e.Entity;this.id_lead=t;const a=await ZOHO.CRM.API.getRecord({Entity:n,RecordID:t});this.familyMembers.push(a.data[0].Family_Members),this.Matter_Client_Number=a.data[0].Matter_Client_Number})),ZOHO.embeddedApp.init()}},q=G,L=(0,p.Z)(q,r,s,!1,null,null,null),B=L.exports,J=n(1705);a.ZP.use(J.Z);var W=new J.Z({});a.ZP.config.productionTip=!1,new a.ZP({vuetify:W,render:e=>e(B)}).$mount("#app")}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,i,o){if(!a){var r=1/0;for(m=0;m<e.length;m++){a=e[m][0],i=e[m][1],o=e[m][2];for(var s=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(m--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[a,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,o,r=a[0],s=a[1],l=a[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var m=l(n)}for(t&&t(a);u<r.length;u++)o=r[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(m)},a=self["webpackChunkzoho_app"]=self["webpackChunkzoho_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4079)}));a=n.O(a)})();
//# sourceMappingURL=app.2f07869f.js.map